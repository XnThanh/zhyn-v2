---
timestamp: 'Wed Oct 15 2025 14:01:08 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251015_140108.28af3dea.md]]'
content_id: 39f63448ed3bcade4691fd6b6a9a42aca53d87bd423c46e8921ff12d3d90f163
---

# Documentation

Every concept should have inline documentation and commenting:

* The concept itself should be paired with its purpose.
* The state should be described next to any types.
* Any testing should be guided by the principle.
* Each action should state the requirements and effects, and tests should check that both work against variations.

**concept** ZhuyinDictionary

**purpose** tracks the Zhuyin Representation of Characters

**principle** registers Chinese Characters and their ZhuyinRep, performs lookup of both Character and Zhuyin

**state**\
a set of CharacterEntries with\
  a Character (unique identifier)\
  a ZhuyinRep

**actions**\
register (Character, ZhuyinRep)\
  requires Character doesn't already exist in CharacterEntries\
  effect create new CharacterEntry with given Character and ZhuyinRep

unregister (Character)\
  requires Character already exist in CharacterEntries\
  effect remove CharacterEntry associated with Character

getAnswer (Character): (ZhuyinRep)\
  requires Character already exist in CharacterEntries\
  effects returns the ZhuyinRep associated with the Character

lookupZhuyin (ZhuyinRep): (characters: Character\[])\
  effects Returns a list of all Characters whose Zhuyin representation matches ZhuyinRep. The pattern can be a full Zhuyin string or a partial prefix.

**concept** Quiz \[CharacterEntry]

**purpose** track User's Zhuyin typing ability

**principle** track the speed and accuracy for each Character that user typed

**state**\
a set of Questions with\
  an questionId String\
  a character Character\
  a target ZhuyinRep\
  a response ZhuyinRep?\
  a startTime DateTime?\
  an endTime DateTime?\
  a speed Number?\
  a correct Boolean?

**actions**\
register (Character, ZhuyinRep): (questionId: String)\
  effect Generate a questionId. Create a new Question with questionId, associated character and target ZhuyinRep, other fields unset. Return questionId.

startQuestion (questionId: String)\
  requires Question exists and not already started (startTime is unset)\
  effects update startTime of coresponding Question to current time

submitAnswer (questionId: String, response: ZhuyinRep)\
  requires Question exists and started, with endTime unset\
  effects\
  set endTime = current time\
  set response = response\
  set speed = endTime - startTime (in milliseconds)\
  set correct = (response = target)

**queries**\
getSpeed (questionId: String): (speed: Number)\
  requires Question exists and endTime set\
  effect return speed associated with Question

getAccuracy (questionId: String): (correct: Boolean)\
  requires Question exists and endTime set\
  effect return correct Boolean associated with Question
