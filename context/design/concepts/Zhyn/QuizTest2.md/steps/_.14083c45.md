---
timestamp: 'Wed Oct 15 2025 15:25:50 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251015_152550.9b476df5.md]]'
content_id: 14083c45d2deffae3e842ead5336ab6d8190c8a2a719e1176eae76d8533bd022
---

# Test implementation

While testing, use the `testDb` function, which returns a tuple of the database and client so that you can close it.

```typescript
import { testDb } from "@utils/database.ts";

Deno.test("...", async () => {
  const [db, client] = await testDb();

  // ... tests

  await client.close();
});
```

The database is already automatically dropped before every test file using the `Deno.test.beforeAll` hook: do not include any additional manipulation of the database for this purpose.

Use the Deno.test framework, splitting by appropriate test steps and describing each behavior. Import helpers from:

```typescript
import { assertEquals } from "jsr:@std/assert"; // or any other utility from the library
```

**princple**

1. system register 3 questions
2. user starts question 1
3. user completes question 1
4. user starts question 2
5. user completes question 2
6. system gets speed and accuracy of all questions

**register**\
add new question
add new question with duplicate character (ok)

**startQuestion**\
start question with valid question id
start question that already started
start question with invalid question id

**submitAnswer**\
submit correct answer
submit incorrect answer
submit with invalid question id
submit question that has not started

**getSpeed**\
valid question id, speed available
valid question id, speed not available
invalid question id

**getAccuracy**\
valid question id, accuracy available
valid question id, accuracy not available
invalid question id
